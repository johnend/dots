# Settings files open in NeoVim
alias zshrc="v ~/.zshrc"
alias npmrc="v ~/.npmrc"
alias sshconfig="v ~/.ssh"
alias ohmyzsh="v ~/.oh-my-zsh"
alias alacrittysettings="v ~/.config/alacritty"

# git aliases
alias gitforce='git add . && git commit --amend --no-edit --no-verify && git push -f'
alias gitconfig='nvim ~/.gitconfig'

# tmux
# no longer using tmuxinator in preference to tmux-sessionizer and sessionx
# alias muxi='project=$(tmuxinator list | grep -v -e "projects:" -e "tmuxinator" | tr -s " " "\n" | fzf --header="Select a tmuxinator project:"); if [ -n "$project" ]; then tmuxinator start "$project"; fi'
alias sesh="tmux-sessionizer"

# QoL
alias ":q"="exit"

# Lazygit
alias "gg"="lazygit"

# eza - much better ls
alias "ls"="eza --icons --group-directories-first"
alias "la"="ls -la --show-symlinks"
alias "ld"="ls -D"
alias "lad"="ls -lDa --show-symlinks"
alias "lt"="ls -T --level=4 --ignore-glob='.git'"
alias "ltg"="ls -T --level=2 --ignore-glob='.git'"
alias "lat"="ls -Ta --ignore-glob='.git'" # use with caution!

# neovim
alias "nv"="nvim"

# gh cli
gh-create() { 
  gh repo create "${1:-$(basename "$PWD")}" --public --source=. --remote=origin
}

# spotfiy player
alias "spt"="spotify_player"

# opencode
alias "oc"="opencode"

compile_sofle() {
  if [[ "$(basename "$PWD")" == "qmk_firmware" ]]; then
    qmk compile -kb sofle -km johnend
  else
    echo "ðŸš¨ Error: Can only use this alias inside qmk_firmware directory"
  fi
}

# Linux specific aliases
if [[ "$OSTYPE" == "linux-gnu" ]]; then
  alias "a"="aerc"
  alias "vim"="nvim"
  alias pavucontrol="GTK_THEME=Adwaita-dark pavucontrol"
  alias nmtui="NEWT_COLORS='root=black,black;window=black,black;border=white,black;listbox=white,black;label=blue,black;checkbox=red,black;title=green,black;button=black,red;actsellistbox=black,red;actlistbox=white,gray;compactbutton=white,gray;actcheckbox=white,blue;entry=lightgray,black;textbox=blue,black' nmtui"
elif [[ "$OSTYPE" == "darwin"* ]]; then
fi

# Alternative NeoVim configs
alias cvim="nvim --clean"
alias v="qvim"

# AWS assume role tool (granted)
alias assume=". assume"

# Posting - API testing tool
alias postraf="posting --env ~/.local/share/posting/default/RaF/RaF.env"

# Update Homebrew when using VPN
alias brew-update-clean='/usr/bin/env -i HOME="$HOME" PATH="/opt/homebrew/bin:/usr/bin:/bin" HOMEBREW_FORCE_BREWED_CURL=1 CURL_SSL_BACKEND=secure-transport brew update --verbose'

# Posting aliases
postingraf() {
  local env_dir="$HOME/Developer/fanduel/raccoons/raf-service-env"
  local selected_env=$(find "$env_dir" -type f -name "*.env" | while read -r file; do
    local basename=$(basename "$file")
    local display_name=""
    local truncated_path="${file#*fanduel/}"
    
    if [[ "$basename" == cas.* ]]; then
      local env_name="${basename#cas.}"
      env_name="${env_name%.env}"
      display_name="Casino - $env_name"
    elif [[ "$basename" == ms.* ]]; then
      local env_name="${basename#ms.}"
      env_name="${env_name%.env}"
      display_name="Mohegan Sun - $env_name"
    elif [[ "$basename" == sbk.* ]]; then
      local env_name="${basename#sbk.}"
      env_name="${env_name%.env}"
      display_name="Sportsbook - $env_name"
    else
      display_name="$basename"
    fi
    
    printf "%s \033[90mfanduel/%s\033[0m\t%s\n" "$display_name" "$truncated_path" "$file"
  done | sort | fzf --header="Select an environment config:" --with-nth=1 --delimiter='\t' --ansi | cut -f2)
  
  if [ -n "$selected_env" ]; then
    posting --env "$selected_env"
  fi
}

# Duckypad configs and such
alias duckyconfig="DUCKYPAD_UI_SCALE=1 python3 ~/Developer/duckyPad-Configurator/src/duckypad_config.py"
alias duckyprofiles="DUCKYPAD_UI_SCALE=1 python3 ~/Developer/duckyPad-Profile-Autoswitcher/src/duckypad_autoprofile.py"
